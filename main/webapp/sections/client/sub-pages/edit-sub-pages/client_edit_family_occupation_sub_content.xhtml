<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:s="http://jboss.com/products/seam/taglib">

<h:head></h:head>
<h:body>
	<ui:composition>
		<ui:repeat var="occupation"
			value="#{customerBean.customer.familyOccupationDTOs}"
			varStatus="count">
			<h:panelGrid columns="2">
				<h:column>
					<p:fieldset legend="Family Occupation #{count.index + 1}">
						<p:panelGrid cellpadding="25" styleClass="no_margin"
							style="width:100%">
							<p:row>
								<p:column colspan="1">
									<h:outputText
										value="Occupation Type: #{occupation.occupationTypeDTO.name}" />
								</p:column>
								<p:column colspan="1">
									<h:outputText
										value="Occupation Subtype: #{occupation.occupationSubTypeDTO.name}" />
								</p:column>
								<p:column colspan="1">
									<h:outputText
										value="Annual Income: #{occupation.calculatedIncome}" />
								</p:column>
							</p:row>
							<p:row>
								<p:column colspan="2">
									<h:outputText rendered="#{occupation.multiplierPresent}"
										id="familyOccupationMultiplierLabel"
										value="#{occupation.occupationSubTypeDTO.multiplierLabel} (Multiplier):  " />

									<p:inputText rendered="#{occupation.multiplierPresent}"
										value="#{occupation.multiplierValue}">
										<p:ajax
											listener="#{customerBean.calculateFamilyOccupationValue(count.index)}"
											update=":form:clientSectionsTabView:editClientFamilyOccupationDetails"></p:ajax>
									</p:inputText>
								</p:column>

							</p:row>
							<p:row>
								<p:column colspan="2">
									<h:outputText value="Additional Details" styleClass="bold"
										rendered="#{occupation.occupationSubTypeDTO.additionalFieldPresent}" />
								</p:column>
							</p:row>
							<p:row>
								<p:column colspan="3">
									<h:outputText
										rendered="#{occupation.occupationSubTypeDTO.additionalFieldPresent}"
										value="#{occupation.occupationSubTypeDTO.additionalFieldLabel}: " />
									<p:inputText value="#{occupation.additionalFieldValue}"
										rendered="#{occupation.occupationSubTypeDTO.additionalFieldPresent}"></p:inputText>
								</p:column>
							</p:row>
							<p:row>
								<p:column colspan="2">
									<h:outputText value="Income Lumping Details" styleClass="bold"
										rendered="#{occupation.occupationSubTypeDTO.incomeLumpingRequired == true}" />
								</p:column>
							</p:row>
							<p:row>
								<p:column colspan="3">
									<p:panelGrid cellpadding="25" styleClass="no_margin"
										rendered="#{occupation.occupationSubTypeDTO.incomeLumpingRequired == true}">
										<p:row>
											<p:column colspan="1">
												<h:outputText value="Jan" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="Feb" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="March" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="April" />
											</p:column>
										</p:row>
										<p:row>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.jan}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.feb}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.march}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.april}"></p:inputText>
											</p:column>
										</p:row>
										<p:row>
											<p:column colspan="1">
												<h:outputText value="May" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="June" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="July" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="August" />
											</p:column>
										</p:row>
										<p:row>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.may}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.june}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.july}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.august}"></p:inputText>
											</p:column>
										</p:row>
										<p:row>
											<p:column colspan="1">
												<h:outputText value="September" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="October" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="November" />
											</p:column>
											<p:column colspan="1">
												<h:outputText value="December" />
											</p:column>
										</p:row>
										<p:row>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.sept}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.october}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.nov}"></p:inputText>
											</p:column>
											<p:column colspan="1">
												<p:inputText
													value="#{occupation.incomeLumpingDTO.december}"></p:inputText>
											</p:column>
										</p:row>

									</p:panelGrid>
								</p:column>
							</p:row>
						</p:panelGrid>

					</p:fieldset>
				</h:column>
				<h:column>
					<p:panelGrid columns="1" cellspacing="25"
						styleClass="big_table_wide"
						rendered="#{customerBean.editFamilyOccupationDetailsFlag == true}">
						<f:facet name="footer">
							<p:commandLink
								action="#{customerBean.removeFamilyOccupation(count.index)}"
								ajax="false"
								update=":form:clientSectionsTabView:clientFamilyOccupationSectionsTab">
								<h:graphicImage library="images" name="delete-1.png" />
							</p:commandLink>
						</f:facet>
					</p:panelGrid>
				</h:column>
			</h:panelGrid>
			<p:spacer height="20"></p:spacer>
		</ui:repeat>
	</ui:composition>
</h:body>
</html>
