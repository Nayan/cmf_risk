<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:s="http://jboss.com/products/seam/taglib">

<h:head></h:head>
<h:body>
	<ui:composition>
		<h:panelGrid id="viewClientAsset"
			rendered="#{customerBean.editAssetsFlag == false}">
			<ui:include
				src="/sections/client/sub-pages/edit-sub-pages/client_view_assets_sub_content.xhtml" />
			<p:panelGrid columns="3" cellspacing="25" styleClass="big_table_wide">
				<f:facet name="footer">
					<p:commandButton value="Edit" icon="ui-icon-pencil"
						actionListener="#{customerBean.editAssets}"
						update=":form:clientSectionsTabView:clientAssetSectionsTab" />
					<p:spacer width="20px;" />
				</f:facet>
			</p:panelGrid>
		</h:panelGrid>
		<h:panelGrid id="editClientAsset"
			rendered="#{customerBean.editAssetsFlag == true}">
			<p:fieldset legend="Add a new Asset">
				<p:panelGrid cellpadding="25" styleClass="no_margin"
					style="width:100%">
					<p:row>
						<p:column colspan="1">
							<h:outputText value="Asset Type: " />
							<p:selectOneMenu value="#{customerBean.asset.assetTypeId}">
								<f:selectItem itemLabel="Select One" itemValue="" />
								<f:selectItems value="#{appBean.assetTypes}"></f:selectItems>
								<p:ajax update=":form:clientSectionsTabView:editClientAsset"
									listener="#{customerBean.handleAssetTypeChange}"></p:ajax>
							</p:selectOneMenu>
						</p:column>
						<p:column colspan="1">
							<h:outputText value="Asset Subtype:" />
							<p:selectOneMenu value="#{customerBean.asset.assetSubTypeId}"
								id="assetSubTypeId">
								<f:selectItem itemLabel="Select One" itemValue="" />
								<f:selectItems value="#{customerBean.assetSubTypes}"></f:selectItems>
								<p:ajax update=":form:clientSectionsTabView:editClientAsset"
									listener="#{customerBean.calculateAssetValue}"></p:ajax>
							</p:selectOneMenu>
						</p:column>
						<p:column colspan="1">
							<h:outputText id="calculatedIncome"
								value="Annual Income: #{customerBean.asset.calculatedIncome}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="3">
							<h:outputText id="multiplierLabel"
								value="#{customerBean.asset.assetSubTypeDTO.multiplierFieldLabel} (Multiplier):  " />

							<p:inputText value="#{customerBean.asset.multiplierValue}">
								<p:ajax listener="#{customerBean.calculateAssetValue}"
									update=":form:clientSectionsTabView:calculatedIncome"></p:ajax>
							</p:inputText>
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="2">
							<h:outputText value="Additional Details" styleClass="bold"
								rendered="#{customerBean.asset.assetSubTypeDTO.additionalFieldPresent}" />
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="3">
							<h:outputText
								rendered="#{customerBean.asset.assetSubTypeDTO.additionalFieldPresent}"
								value="#{customerBean.asset.assetSubTypeDTO.additionalFieldLabel}:" />
							<p:inputText value="#{customerBean.asset.additionalFieldValue}"
								rendered="#{customerBean.asset.assetSubTypeDTO.additionalFieldPresent}"></p:inputText>
						</p:column>
					</p:row>
				</p:panelGrid>

			</p:fieldset>
			<p:panelGrid columns="1" styleClass="button_right_align">
				<p:commandButton actionListener="#{customerBean.addAsset}"
					icon="ui-icon-circle-plus" value="Add"
					update=":form:clientSectionsTabView:editClientAsset"></p:commandButton>
			</p:panelGrid>

			<ui:include
				src="/sections/client/sub-pages/edit-sub-pages/client_edit_assets_sub_content.xhtml" />
			<p:panelGrid columns="3" cellspacing="25" styleClass="big_table_wide">
				<f:facet name="footer">
					<p:commandButton value="Cancel Edit" icon="ui-icon-trash"
						actionListener="#{customerBean.cancelEditAssets}"
						update=":form:clientSectionsTabView:clientAssetSectionsTab" />
					<p:spacer width="20px;" />
					<p:commandButton value="Save" icon="ui-icon-check"
						actionListener="#{customerBean.saveIncomeGeneratingAssets}"
						update=":form:clientSectionsTabView:clientAssetSectionsTab" />
				</f:facet>
			</p:panelGrid>
		</h:panelGrid>
	</ui:composition>
</h:body>
</html>
