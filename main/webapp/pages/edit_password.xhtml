<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<head>
<title>IGNORED</title>
</head>
<body>
	<ui:composition template="/templates/masterLayout.xhtml">

		<ui:define name="windowTitle">
			<h:outputText value="Home" />
		</ui:define>

		<ui:define name="heading">
			<ui:include src="/sections/home/header.xhtml" />
		</ui:define>

		<ui:define name="sidebarLeft">
			<ui:include src="/sections/home/sidebarLeft.xhtml" />
		</ui:define>


		<ui:define name="content">
			<h:form styleClass="big_form">
				<p:breadCrumb>
					<p:menuitem value="Home" url="/" />
					<p:menuitem value="Update Password" url="#" />
				</p:breadCrumb>
				<p:messages autoUpdate="true" showDetail="true" showSummary="false"></p:messages>

				<h:panelGrid columns="1" styleClass="big_table_wide_padding"
					id="loginPanel">
					<p:panelGrid columns="2">
						<f:facet name="header">
							<h:outputText value="Change Password" />
						</f:facet>
						<h:outputText value="User Name" />
						<p:inputText readonly="true" value="#{loginBean.userT.username}"></p:inputText>
						<h:outputText value="Current Password" />
						<p:password required="true" value="#{loginBean.currentPassword}"
							requiredMessage="Please enter your current password"></p:password>
						<h:outputText value="New Password" />
						<p:password required="true" value="#{loginBean.newPassword}"
							feedback="true" inline="true" match="newPassword2"
							requiredMessage="Please enter the new password"
							validatorMessage="Please ensure that new passwords 1 and 2 match"></p:password>
						<h:outputText value="Re-enter new Password" />
						<p:password required="true" id="newPassword2"
							requiredMessage="Please re-enter the new password"
							value="#{loginBean.newPassword}"></p:password>
						<f:facet name="footer">
							<p:commandButton value="Change Password" update="loginPanel"
								actionListener="#{loginBean.updatePassword}"
								icon="ui-icon-check" style="margin:0" />
						</f:facet>
					</p:panelGrid>
				</h:panelGrid>
			</h:form>
		</ui:define>
	</ui:composition>
</body>
</html>

